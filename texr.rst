title: Texr
summary: Телефонное приложение, которое я делаю
pub_date: 2013-05-25
tags: [voip, texr]

Texr
====

На прошлой неделе я наконецто зарелизил `приложение`_, которое писал достаточно
давно. Это SIP-звонилка, которая реализует все те вещи, о которых я писал под
тегами voip_ и немного webrtc_. Сигнальный трафик шифруется средствами SSL,
голосовой - SRTP (AES_CM_128_HMAC_SHA1_80). Приложение умеет ICE_, поэтому
голосовой трафик ходит напрямую между абонентами.

.. image:: texr.png
    :alt: Логотип
    :align: center

Кроме звонилки
--------------

Кроме собственно сипа, который  много кто умеет, Texr хранит адресную
книгу, историю звонков и показывает пропущенные вызовы, которые приходили на
адрес, пока абонент был в оффлайне.

У обычных сип-звонилок это является проблемой, потомучто история звонков (в
т.ч. пропущенных) хранится только локально, а если аппарат был оффлайн в тот
момент, когда пришел вызов, то звонок уходит вникуда (или в голосовую почту,
реликт эльфийского времени).

Сервер
------

Поскольку сигнальный трафик ходит через сервер, для него не составляет
проблемы записать, что звонок был, но никакого общепринятого механизма о том,
как сказать о пропущенном вызове клиенту, в сипе нет. Хранение истории,
ясное дело, сип тоже не регламетирует.

Texr это умеет. Присылать назойливые пуш-нотификейшны о пропущеных звонках -
тоже.

Абоненты
--------

Зарегистрироваться можно из телефонного приложения, а звонить на адреса в
пределах сервера. Для звонков на городские и мобильные нужно подключать
внешний сип-аккаунт и это пока что сделано не очень удобно и только через сайт_ ,
хотя состояние подключенных аккаунтов в клиенте видно.

Счастливым юзерам интертелекома могу сообщить, что они могут подключить у себя
услугу "SIP", чтобы звонить и принимать звонки со своего номера, находясь за
пределами сети оператора. Или вообще с аппарата, где CDMA никогда не было.

Еще на сайте, для залогиненных юзеров, есть веб-звонилка на webrtc, но она очень
странно работает.

Планы
-----

Видеочятики, текстовые конференции с корейскими смайликами, а также захват
мира, версия под андроид на пунтхуа и убунты на бахаса будут.

Более технический пост в котором будет про кодеки, сертификаты и msgpack будет
потом.

Еще обращаю внимание, что внизу этой страницы есть адрес биткоин-кошелька,
на который мне можно переводить деньги, чтобы поддержать эту инициативу.
Сейчас она расходует деньги на хостинг, на администрирование и прочие вещи,
вроде покупки девелоперского аккаунта у эппла, не говоря о моих личных тратах
времени, которого было много.
 
.. _приложение: https://itunes.apple.com/us/app/texr/id643673775
.. _voip: /tags/voip/
.. _webrtc: /tags/webrtc/
.. _ICE: http://muromec.org.ua/2013/02/webrtc/
.. _сайт: https://texr.net/
