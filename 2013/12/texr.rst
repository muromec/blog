title: Texr
summary: Приехали, выходим.
pub_date: 2013-12-07
tags: [texr, code, voip]

Texr
====

Разработка звонилки зашла в тупик. Произошло это по нескольким причинам, но в основном - я сам себе буратина, потомучто слишком занимался программированием, не делегировал программирование UI людям, которые могут это сделать быстрее и лучше меня, но за деньги.

С точки зрения конечного продукта - в вайбере уже сделали практически все, что я хотел. С технологической - без открытых стандартов и того, что в мире XMPP называют federation.

Из позитивных результатов - я все-таки сделал BSD-licensed движок голосовой связи, который можно встраивать куда хочется и который совместим с WebRTC. Движок лежит на гитхабе: https://github.com/muromec/tcsip

One man show
------------

Вобщем-то я очередной раз доказал себе известную вещь - я могу все, но не все сразу. Я написал сервер, написал веб-интерфейс, нативный клиент под iOS и жаваскриптовый под WebRTC. Я же до какого-то момента админил сервера. Попытки свалить часть работы на каких-то людей проваливались по той простой причине, что людям надо платить хотябы какие-то деньги.

При этом переключаться между контекстами "тут пишу жесткачь на C", а "там веб-формочки на бутстрапе" достаточно сложно. Между серверным кодом на пайтоне, который колбасиб SIP-сообщения и клиентским на C - еще ничего, но все остальные задачи сильно разные, в результате я начинал заниматься не тем, что реально было нужно, а тем что было "ближе".

Всем похуй
----------

Одним из моментов, который демотивирует - это то, что всем вобщем-то похуй. Вроде как на меня подписана куча прогромистов всякого юникса, но ни по одной ссылок, которые я давал, не пришло вообще никакого фидбека кроме того, что у меня страшный интерфейс (спасибо, кеп).

Слова и тексты
--------------

Не то чтобы новостью для меня оказалось то, что слова и тексты я писать не умею, презентовать свои придумывалки не могу и вообще делаю как-бы сам себе непонятно что.

Вариант с тем, чтобы выложить код движка и сделать проект интересным хотябы айти-тусовочке тоже не взлетел.

Движок
------

Движок, который лежит на гитхабе, представляет из себя демон, который внутри себя реализует голосовую связь с шифрованием сигнального (SIP/OpenSSL) и голосового (Opus/SRTP) потоков, отправку сообщений (SIP MESSAGE) по тому же шифрованному каналу и историю с контакт-листом (TexR HTTPS API). Для аутентификации клиент использует сертификат X509 (то же, что и клиентские HTTPS, ЭЦП и прочее), который получает с сервера по логину-паролю (тоже HTTPS API).

Сам демон управляется по локальному сокету отправкой сообщений, закодированных в msgpack. Там же на гитхабе есть библиотека https://github.com/muromec/texr.client для тыканья демона. Это все даже работает, но сервера я уже выключил, поэтому проверить не получится.
